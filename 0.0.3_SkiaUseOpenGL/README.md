# 

- Window::CreateNativeWindow(platformData); //HelloWorld.cpp
    - Window* Window::CreateNativeWindow //Window_Win.cpp
    - window->init(hInstance) //Window_Win.cpp
- fWindow->setRequestedDisplayParams(DisplayParams()); //HelloWorld.cpp
- fWindow->pushLayer(this); //HelloWorld.cpp
- fWindow->attach(fBackendType); //HelloWorld.cpp
  - fWindowContext = skwindow::MakeGLForWin(fHWnd, fRequestedDisplayParams); //Window_Win.cpp
    - std::unique_ptr<WindowContext> ctx(new GLWindowContext_win(wnd, params)); //GLWindowContext_win.cpp
    - this->initializeContext();  //GLWindowContext_win.cpp
      - GLWindowContext_win::onInitializeContext() //GLWindowContext_win.cpp  //底层
      - fContext = GrDirectContexts::MakeGL(fBackendContext, fDisplayParams.fGrContextOptions); //GLWindowContext.cpp //以后会用到
  - onBackendCreated(); //Window_Win.cpp
  - layer->onBackendCreated(); //Window.cpp
- fWindow->show(); //HelloWorld.cpp
- fWindow->inval(); //HelloWorld.cpp
  - onInval(); //Window.cpp
    - InvalidateRect(fHWnd, nullptr, false); //Window_Win.cpp
    - WM_PAINT //Window_Win.cpp
    - window->onPaint(); //Window_Win.cpp
  - sk_sp<SkSurface> backbuffer = fWindowContext->getBackbufferSurface(); //Window.cpp
  - layer->onPaint(backbuffer.get());  //Window.cpp
    - auto canvas = surface->getCanvas(); //HelloWorld.cpp
  - auto dContext = this->directContext() //Window.cpp
  - dContext->flushAndSubmit(backbuffer.get(), GrSyncCpu::kNo); //Window.cpp
  - fWindowContext->swapBuffers();
    - HDC dc = GetDC((HWND)fHWND);
    - SwapBuffers(dc);
    - ReleaseDC((HWND)fHWND, dc);